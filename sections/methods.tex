\section{METHODS}
\subsection{Minimization of change in activation} % (fold)
\label{sub:minimization_of_change_in_activation}
[maytodo explain]
% subsection minimization_of_change_in_activation (end)
\subsection{Minimization of total activation} % (fold)
We are given $k$ discrete time steps and its corresponding constraints
\begin{align*}
A^1 x^1 &= b^1 \\
A^2 x^2 &= b^2 \\
 &\vdots \\
A^k x^k &= b^k \\
x^j &\in [0,1]^n \text{ for all } j \in \{1,2,\dots,k\} 
\end{align*}
Additionally we are given spatio temporal constraints in the form of $|x_i^{j+1} - x_i^{j}| \leq \delta_i^j|$ for $i \in \{1,2,\dots,n\}, j \in \{1,2,\dots,k-1\}$, i.e.\ the activation of muscle $i$ can not change more than $\delta_i^j$ between step $j$ and step $j+1$. Note that $|x_i^{j+1} - x_i^{j}| \leq \delta_i^j$ is not a linear constraint itself but can easily be replaced by the two constraints $x_i^{j+1} - x_i^{j} \leq \delta_i^j$ and $x_i^{j} - x_i^{j+1} \leq \delta_i^j$

Finding a solution where we minimize total activation is hence given by

\begin{equation}
\begin{array}{lrcl}
\mbox{minimize} & \sum_{j=1}^k \sum_{i=1}^n x_i^j \\ 
\mbox{subject to} & A^j x^j &=& b^j \hspace{5mm} \forall j \in \{1,\dots, k\} \\
  & x_i^{j+1} - x_i^{j} &\leq& \delta_i^j  \hspace{5mm} \forall j \in \{1,\dots, k-1\}, i \in \{1,\dots,n\} \\
  & x_i^{j} - x_i^{j+1} &\leq& \delta_i^j  \hspace{5mm} \forall j \in \{1,\dots, k-1\}, i \in \{1,\dots,n\} \\
  & x^j &\in& [0,1]^n \hspace{5mm} \forall j \in \{1,\dots, k\}.
\end{array}
\end{equation}

This is a linear program in $kn$ variables.

%\label{sub:minimization_of_total_activation}
%[maytodo explain]
% subsection minimization_of_total_activation (end)
[maytodo make this part clear:]
% The input is Array[($A$,$b$,$\textbf{\delta}^j$)] % make the delta a vector
% For every j and every i we have a constraint; for step j, muscle i cannot change more than \delta_i^j.